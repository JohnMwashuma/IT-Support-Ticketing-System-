@{
    ViewBag.Title = "BT";
}

@helper SelectedTabClass(string tabName) { 
    if (tabName == ViewBag.SelectedTab)
    {
        @: active
    }}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@ViewBag.Title - ITSupportSystem</title>
    @Styles.Render("~/admin/styles")
</head>
<body>

<div class="container-fluid display-table">

    <div class="row display-table-row">
        
        @*<!-- Side Menu-->
        <div class="col-md-2 col-sm-1 hidden-xs display-table-cell valign-top" id="side-menu">
            <h1 class="hidden-xs hidden-sm">BT-Dashboard</h1>

            <ul>
                <li class="link @SelectedTabClass("dashboard")">
                    <a href="@Url.Action("Index","Dashboard")">
                        <span class="glyphicon glyphicon-th" aria-hidden="true"></span>
                        <span class="hidden-sm hidden-xs">Dashboard</span>
                    </a>
                </li>

                <li class="link">
                    <a href="#collapse-ticket" data-toggle="collapse" aria-controls="collapse-ticket">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        <span class="hidden-sm hidden-xs">Tickets</span>
                    </a>
                    <ul class="collapse collapseable" id="collapse-ticket">
                        <li><a href="@Url.Action("Index","Tickets")">All Tickets <span class="label label-success pull-right">20</span></a></li>
                        <li><a href="@Url.Action("Index","NewTickets")">New Tickets <span class="label label-warning pull-right">5</span></a></li>
                        <li><a href="@Url.Action("Index","OpenTickets")">Open Tickets <span class="label label-warning pull-right">5</span></a></li>
                        <li><a href="@Url.Action("Index","PendingTickets")">Pending Tickets <span class="label label-warning pull-right">5</span></a></li>
                        <li><a href="@Url.Action("Index", "ResolvedTickets")">Resolved Tickets <span class="label label-success pull-right">5</span></a></li>
                        @if (User.IsInRole("admin") || User.IsInRole("support"))
                        {
                            <li><a href="@Url.Action("Index", "ClosedTickets")">Closed Tickets <span class="label label-success pull-right">5</span></a></li>
                        }
                    </ul>
                </li>

                <li class="link @SelectedTabClass("ticketcomments")">
                    <a href="@Url.Action("Index","TicketComments")">
                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        <span class="hidden-sm hidden-xs">Ticket Comments</span>
                    </a>
                </li>

                <li class="link @SelectedTabClass("tags")">
                    <a href="@Url.Action("Index", "Tags")">
                        <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                        <span class="hidden-sm hidden-xs">Manage Tags</span>
                    </a>
                </li>

                <li class="link">
                    <a href="#">
                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        <span class="hidden-sm hidden-xs">Manage Comments</span>
                    </a>
                </li>

                @if (User.IsInRole("admin") || User.IsInRole("support"))
                {
                    <li class="link settings-btn">
                        <a href="#collapse-users" data-toggle="collapse" aria-controls="collapse-users">
                            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                            <span class="hidden-sm hidden-xs">Manage Users</span>
                        </a>
                        <ul class="collapse collapseable" id="collapse-users">
                            <li ><a href="@Url.Action("Index", "Users")">All Users <span class="label label-success pull-right">2</span></a></li>
                            <li><a href="#">User Roles <span class="label label-success pull-right">3</span></a></li>
                            <li><a href="#">User Departments <span class="label label-success pull-right">5</span></a></li>
                        </ul>
                    </li>
                }
            </ul>
        </div>
        <!-- Side Menu-->*@

    <!-- Side Menu-->

    <div class="col-md-2 col-sm-1 hidden-xs display-table-cell valign-top" id="side-menu">
        <!-- menu prile quick info -->
        <div class="profile">
            <div class="profile_pic">
                <img src="~/Content/images/img.jpg" alt="..." class="img-circle profile_img">
            </div>
            <div class="profile_info">
                <span>Welcome, back</span>
                <h4>@User.Identity.Name</h4>
            </div>
        </div>
        <!-- /menu prile quick info -->
        <h1 class="hidden-xs hidden-sm">BT-Dashboard</h1>


        <ul>
            <li class="link @SelectedTabClass("dashboard")">
                <a href="@Url.Action("Index", "Dashboard")">
                    <span class="glyphicon glyphicon-th" aria-hidden="true"></span>
                    <span class="hidden-sm hidden-xs">Dashboard</span>
                </a>
            </li>

            <li class="link">
                <a href="#collapse-ticket" data-toggle="collapse" aria-controls="collapse-ticket">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    <span class="hidden-sm hidden-xs">Tickets</span><span class="fa fa-chevron-down pull-right"></span>
                </a>


                <ul class="collapse collapseable" id="collapse-ticket">
                    <li class="@SelectedTabClass("tickets")"><a href="@Url.Action("Index", "Tickets")">All Tickets <span class="label label-success pull-right">5</span></a></li>
                    <li><a href="@Url.Action("Index", "NewTickets")">New Tickets <span class="label label-warning pull-right">5</span></a></li>
                    <li><a href="@Url.Action("Index", "OpenTickets")">Open Tickets <span class="label label-warning pull-right">5</span></a></li>
                    <li><a href="@Url.Action("Index", "PendingTickets")">Pending Tickets <span class="label label-warning pull-right">5</span></a></li>
                    <li><a href="@Url.Action("Index", "ResolvedTickets")">Resolved Tickets <span class="label label-success pull-right">5</span></a></li>

                    <li><a href="@Url.Action("Index", "ClosedTickets")">Closed Tickets <span class="label label-success pull-right">5</span></a></li>

                </ul>
            </li>

            <li class="link @SelectedTabClass("ticketcomments")">
                <a href="@Url.Action("Index", "TicketComments")">
                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                    <span class="hidden-sm hidden-xs">Ticket Comments</span>
                </a>
            </li>

            <li class="link @SelectedTabClass("tags")">
                <a href="@Url.Action("Index", "Tags")">
                    <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                    <span class="hidden-sm hidden-xs">Manage Tags</span>
                </a>
            </li>

            <li class="link @SelectedTabClass("comments")">
                <a href="@Url.Action("Index", "Comments")">
                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                    <span class="hidden-sm hidden-xs">Manage Comments</span>
                </a>
            </li>
            @if (User.IsInRole("client"))
            {


                <li class="link settings-btn">
                    <a href="#collapse-users" data-toggle="collapse" aria-controls="collapse-users">
                        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        <span class="hidden-sm hidden-xs">Manage Account</span><span class="fa fa-chevron-down pull-right"></span>
                    </a>
                    <ul class="collapse collapseable" id="collapse-users">

                        <li><a href="@Url.Action("edit", "Users")">Edit Profile <span class="label label-success pull-right">2</span></a></li>
                        <li><a href="@Url.Action("resetpassword", "Users")">Reset Password <span class=" label label-success pull-right">3</span></a></li>
                    </ul>
                </li>
            }


            @if (User.IsInRole("admin") || User.IsInRole("support"))
            {
                <li class="link settings-btn">
                    <a href="#collapse-users" data-toggle="collapse" aria-controls="collapse-users">
                        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        <span class="hidden-sm hidden-xs">Manage Users</span><span class="fa fa-chevron-down pull-right"></span>
                    </a>
                    <ul class="collapse collapseable" id="collapse-users">
                        <li><a href="@Url.Action("Index", "Users")">All Users <span class="label label-success pull-right">2</span></a></li>
                        <li class="@SelectedTabClass("roles")"><a href="@Url.Action("Index", "Roles")">User Roles <span class=" label label-success pull-right">3</span></a></li>
                        <li class="@SelectedTabClass("departments")"><a href="@Url.Action("Index", "Department")">User Departments <span class="label label-success pull-right">5</span></a></li>
                    </ul>
                </li>
            }
        </ul>

        <div class="col-md-2 col-sm-1 hidden-xs sidebar-footer hidden-small">
            <a data-toggle="tooltip" data-placement="top" title="Settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
            </a>
            <a data-toggle="tooltip" data-placement="top" title="FullScreen">
                <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
            </a>
            <a data-toggle="tooltip" data-placement="top" title="Lock">
                <span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span>
            </a>
            <a href="@Url.RouteUrl("Logout")" data-toggle="tooltip" data-placement="top" title="Logout">
                <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
            </a>
        </div>

    </div>
        <!-- Side Menu-->

        <!-- Main Content Area-->
        <div class="col-md-10 col-sm-11 display-table-cell valign-top">
            <div class="row">
                <header id="nav-header" class="clearfix">
                    <div class="col-md-5">
                        <nav class="navbar-default pull-left">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="offcanvas" data-target="#side-menu" aria-expanded="false">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        @*<input type="text" class="hidden-sm hidden-xs" id="header-search-field" placeholder="Search for Something..."/>
                                 <button type="button" class="btn btn-primary go">Go!</button>*@
                     </div>
                    @*<div class="col-md-7">
                        <ul class="pull-right">
                            <li id="welcome" class="hidden-xs">Welcome back @User.Identity.Name to your administration area</li>

                            <li class="fixed-width">
                                <a href="#">
                                    <span class="glyphicon glyphicon-bell" aria-hidden="true"></span>
                                    <span class="label label-warning">3</span>
                                </a>
                            </li>

                            <li class="fixed-width">
                                <a href="#">
                                    <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
                                    <span class="label label-message">3</span>
                                </a>
                            </li>

                            <li>
                                <a href="@Url.RouteUrl("Logout")" class="logout">
                                    <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                                    log out
                                </a>
                            </li>

                        </ul>
                    </div>*@
                </header>
            </div>
            @RenderBody()
            <div class="row">
                @*<footer id="admin-footer" >
                    <blockquote class="blockquote-reverse pull-right">
                        <small>Someone famous in <cite title="Source Title">ASP.NET Developement</cite></small>
                    </blockquote>
                    <div class="copy-right">
                        <small>Copyright &copy; 2015</small>
</div>
                </footer*@

                    <footer id="admin-footer" class="clearfix">
                <div class="pull-left"><b>Copyright </b>&copy; 2015
                </div>
                <div class="pull-right">Welcome back @User.Identity.Name to your administration area</div>
            </footer>
</div>
        </div>
    </div>

</div>



@Scripts.Render("~/admin/scripts")
@RenderSection("Scripts", false)

<form class="hidden" id="anti-forgery-form">
    @Html.AntiForgeryToken()
</form>
</body>
</html>
@*<ul class="nav nav-pills">
        <li class="@SelectedTabClass("tickets")">
            @Html.ActionLink("All Tickets", "Index", "Tickets", new {area = "admin"}, new {})
        </li>
        <li class="@SelectedTabClass("ticketcomments")">
            @Html.ActionLink("Ticket Replies", "Index", "TicketComments", new { area = "admin" }, new { })
        </li>
        <li class="@SelectedTabClass("NewTickets")">
            @Html.ActionLink("New Tickets", "Index", "NewTickets", new {area = "admin"}, new {})
        </li>
        <li class="@SelectedTabClass("OpenTickets")">
            @Html.ActionLink("Open Tickets", "Index", "OpenTickets", new {area = "admin"}, new {})
        </li>
        <li class="@SelectedTabClass("PendingTickets")">
            @Html.ActionLink("Pending Tickets", "Index", "PendingTickets", new {area = "admin"}, new {})
        </li>
        <li class="@SelectedTabClass("ResolvedTickets")">
            @Html.ActionLink("Resolved Tickets", "Index", "ResolvedTickets", new { area = "admin" }, new { })
        </li>
        @if (User.IsInRole("admin") || User.IsInRole("support"))
        {
        <li class="@SelectedTabClass("users")">
            @Html.ActionLink("Users", "Index", "Users", new {area = "admin"}, new {})
        </li>
        }


        <li class="pull-right">
            @Html.RouteLink("Back to Home Page", "Home")
        </li>

    </ul>*@
